function u = GaussSeidelSolve_LS(A, f, u0, max_iter)
tot_pts = length(f)/2;
% additional values, convergence threshold eps,
% damping factor
eps = 10^(-12);
w = 1;

for iter = 1:max_iter
    for i=1:tot_pts
        blk = A([i,i+tot_pts], [i,i+tot_pts]);
        for j=1:tot_pts
            temp = [A(i,j), A(i+tot_pts, j); A(i,j), A(i+tot_pts, j)]*u0([j,tot_pts+j]);
        end
        vec = f([i, i+tot_pts]) - temp;
        u0([i, i+tot_pts]) = blk \ vec;
    end
    
    if(norm(f-A*u0) < eps)
       break;
    end
    
end


% get real solution
% u_real = A \ f;

% get iteration matrix
% D = diag(diag(A));
% E = - tril(A, -1);
% DL = (D/w-E);
% 
% % first iterate
% % use additional damping factor, can be just 1
% u_k = u0 + DL \ (f - (A * u0));
% 
% for k=2:max_iter
%     if(norm(f-A*u0) < eps)
%         break;
%     end
% 
%     u_k = u0 + DL\(f - (A * u0));
%     % new u becomes old u and initialise u_k to zero for summation
%     u0 = u_k;    
% end

u = u0;
end